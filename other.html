<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具库 | Toolkit Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/docs/assets/css/0.styles.61c225ce.css" as="style"><link rel="preload" href="/docs/assets/js/app.bf9abde5.js" as="script"><link rel="preload" href="/docs/assets/js/2.7081bd21.js" as="script"><link rel="preload" href="/docs/assets/js/11.3ba4e15f.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.17413e17.js"><link rel="prefetch" href="/docs/assets/js/12.81f60ba6.js"><link rel="prefetch" href="/docs/assets/js/13.3fc83587.js"><link rel="prefetch" href="/docs/assets/js/3.d04f4a97.js"><link rel="prefetch" href="/docs/assets/js/4.61cab350.js"><link rel="prefetch" href="/docs/assets/js/5.37fc0b0c.js"><link rel="prefetch" href="/docs/assets/js/6.063b7e44.js"><link rel="prefetch" href="/docs/assets/js/7.2d382900.js"><link rel="prefetch" href="/docs/assets/js/8.6c1f93ed.js"><link rel="prefetch" href="/docs/assets/js/9.9b30310a.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.61c225ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Toolkit Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  框架文档
</a></div><div class="nav-item"><a href="/docs/other.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  toolkit 工具库
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  框架文档
</a></div><div class="nav-item"><a href="/docs/other.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  toolkit 工具库
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/other.html" aria-current="page" class="active sidebar-link">工具库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/other.html#方法" class="sidebar-link">方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/other.html#geturlparam" class="sidebar-link">getURLParam</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#setcookie" class="sidebar-link">setCookie</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#getcookie" class="sidebar-link">getCookie</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#getcookies" class="sidebar-link">getCookies</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#removecookie" class="sidebar-link">removeCookie</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#ajax" class="sidebar-link">ajax</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#random" class="sidebar-link">random</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#sort" class="sidebar-link">sort</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#createscrollpaging" class="sidebar-link">createScrollPaging</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#debounce" class="sidebar-link">debounce</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#throttle" class="sidebar-link">throttle</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#compare" class="sidebar-link">compare</a></li><li class="sidebar-sub-header"><a href="/docs/other.html#combine" class="sidebar-link">combine</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/other.html#属性" class="sidebar-link">属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/other.html#env" class="sidebar-link">env</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/other.html#polyfill" class="sidebar-link">polyfill</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/other.html#数组新增方法" class="sidebar-link">数组新增方法</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="工具库"><a href="#工具库" class="header-anchor">#</a> 工具库</h1> <p>在 toolkit 对象中提供了多种工具，辅助日常的开发工作。并为低版本浏览器添加了高版本浏览器中新增的一些方法。</p> <h2 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h2> <h3 id="geturlparam"><a href="#geturlparam" class="header-anchor">#</a> getURLParam</h3> <ul><li><p><strong>用途</strong>：
获取 URL 中的参数。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{string} [name]</code> - 可选，参数名称。</p></li> <li><p><code>{Object} [options]</code> - 可选，选项对象。可以使用以下选项：</p> <ul><li><p><code>required</code>：<code>Boolean</code><br>
参数是否必须，默认 <code>false</code>。</p></li> <li><p><code>encode</code>：<code>Boolean</code><br>
参数是否自动使用 <code>encodeURIComponent</code> 处理，默认 <code>false</code>。</p></li> <li><p><code>defaultVal</code>：<code>String</code><br>
设置当参数值为空字符串或不存在时，使用的默认值。</p></li> <li><p><code>optional</code>：<code>Array</code><br>
指定参数值的可选范围，当参数值不在范围内，就会返回 <code>undefined</code>，并在控制台发出警告。数组只能包含字符串。</p></li></ul></li></ul></li> <li><p><strong>返回值</strong>：<code>{String | Object} paramOrParamObject</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// https://xxx.com/index.html?name=Mike&amp;age=&amp;sex&amp;title=文字</span>

<span class="token keyword">var</span> param <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; { &quot;name&quot;: &quot;Mike&quot;, &quot;age&quot;: &quot;&quot;, &quot;sex&quot;: &quot;&quot;，&quot;title&quot;: &quot;文字&quot; }</span>

<span class="token keyword">var</span> name <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;Mike&quot;</span>

<span class="token keyword">var</span> age <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;&quot;</span>

<span class="token keyword">var</span> sex <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;&quot;</span>

<span class="token keyword">var</span> address <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; undefined</span>

<span class="token keyword">var</span> sex <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> defaultVal<span class="token operator">:</span> <span class="token string">&quot;man&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;man&quot;</span>

<span class="token keyword">var</span> sex <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; undefined，并报错</span>

<span class="token keyword">var</span> name <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> optional<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; undefined，参数值不在 optional 内，报错。</span>

<span class="token keyword">var</span> title <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getURLParam</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> encode<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;%E6%96%87%E5%AD%97&quot;</span>
</code></pre></div></li></ul> <h3 id="setcookie"><a href="#setcookie" class="header-anchor">#</a> setCookie</h3> <ul><li><p><strong>用途</strong>：
设置 cookie。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{string} name</code> - cookie 的名称。</p></li> <li><p><code>{string} value</code> - cookie 的值。非字符串值，会使用 <code>String()</code> 转化为字符串。</p></li> <li><p><code>{Object} [options]</code> - 可选，选项对象。可以使用以下选项：</p> <ul><li><p><code>domain</code>：<code>String</code><br>
设置与 cookie 关联的域名。域名只能设置为主域，使得 cookie 可以跨子域访问。</p></li> <li><p><code>path</code>：<code>String</code><br>
设置与 cookie 关联的路径。只有页面 url 匹配 path 路径或是其子路径时才能访问到该 cookie，默认 <code>/</code>。</p></li> <li><p><code>expires</code>：<code>Date</code><br>
设置 cookie 的过期时间。不设置过期时间的 cookie 会作为会话 cookie，在浏览器关闭后失效。</p></li></ul></li></ul></li> <li><p><strong>返回值</strong>：无</p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code>toolkit<span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">)</span>

toolkit<span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  domain<span class="token operator">:</span> <span class="token string">&quot;ccb.com&quot;</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/cn&quot;</span><span class="token punctuation">,</span>
  expires<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2030/12/12'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h3 id="getcookie"><a href="#getcookie" class="header-anchor">#</a> getCookie</h3> <ul><li><p><strong>用途</strong>：
获取 cookie。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><code>{string} name</code> - cookie 的名称。</li></ul></li> <li><p><strong>返回值</strong>：<code>{String | Null} value</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; &quot;Jack&quot;</span>

<span class="token keyword">var</span> nothing <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">&quot;nothing&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; null，cookie 不存在会返回 null。</span>
</code></pre></div></li></ul> <h3 id="getcookies"><a href="#getcookies" class="header-anchor">#</a> getCookies</h3> <ul><li><p><strong>用途</strong>：
获取多个 cookie。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><code>{Array} names</code> - 包含多个 cookie 名称的数组。</li></ul></li> <li><p><strong>返回值</strong>：<code>{Object} cookies</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> cookies <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;nothing&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; { &quot;name&quot;: &quot;Jack&quot;, &quot;nothing&quot;: null }</span>
</code></pre></div></li></ul> <h3 id="removecookie"><a href="#removecookie" class="header-anchor">#</a> removeCookie</h3> <ul><li><p><strong>用途</strong>：
删除 cookie。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{string} name</code> - cookie 的名称。</p></li> <li><p><code>{Object} [options]</code> - 可选，选项对象。可以使用以下选项：</p> <ul><li><p><code>domain</code>：<code>String</code><br>
设置与 cookie 关联的域名。域名只能设置为主域，使得可以删除与主域关联的 cookie。</p></li> <li><p><code>path</code>：<code>String</code><br>
设置与 cookie 关联的路径。只会删除与该路径关联的 cookie，默认 <code>/</code>。</p></li></ul></li></ul></li> <li><p><strong>返回值</strong>：无</p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code>toolkit<span class="token punctuation">.</span><span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>

toolkit<span class="token punctuation">.</span><span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  domain<span class="token operator">:</span> <span class="token string">&quot;ccb.com&quot;</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/cn&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h3 id="ajax"><a href="#ajax" class="header-anchor">#</a> ajax</h3> <h3 id="random"><a href="#random" class="header-anchor">#</a> random</h3> <ul><li><p><strong>用途</strong>：
获取指定范围内的随机数。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{number} min</code> - 随机数最小值。</p></li> <li><p><code>{number} max</code> - 随机数最大值：</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{number} number</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> toolkit<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; 10 - 100 的随机数（包含 10 和 100）。</span>
</code></pre></div></li></ul> <h3 id="sort"><a href="#sort" class="header-anchor">#</a> sort</h3> <h3 id="createscrollpaging"><a href="#createscrollpaging" class="header-anchor">#</a> createScrollPaging</h3> <h3 id="debounce"><a href="#debounce" class="header-anchor">#</a> debounce</h3> <ul><li><p><strong>用途</strong>：<br>
函数去抖。返回一个函数，该函数被调用后会进入锁定状态，当指定时间内不再被调用，才会解锁并执行回调函数。<br>
常用于会被连续多次触发的事件监听函数的性能优化。例如：输入框的 <code>oninput</code> 输入事件，按钮的 <code>onclick</code> 点击事件、窗口的 <code>onscroll</code> 滚动事件等。在事件触发后的指定时间内不再触发事件才会执行函数。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} fn</code> - 回调函数。</p></li> <li><p><code>{number} wait</code> - 指定锁定时间的毫秒数。</p></li> <li><p><code>{boolean} immediate</code> - 是否先立即执行回调函数，默认 <code>false</code>。设置为 <code>true</code> 时，代表触发事件后会立即执行回调函数，并进入锁定状态，只有在指定时间内不再触发事件后，才会解锁。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{function} debounce_fn</code></p></li> <li><p><strong>示例</strong>：</p> <div data-info="mydemo%20%5Bheight%3D130%5D" data-type="vanilla" class="docs-demo-plugin__wrapper"><div class="docs-demo-plugin__code"><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>假设下面是两个搜索框，会在输入时发起 ajax 请求，搜索相关内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nondebounce<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>优化前的搜索框<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debounce<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>优化后的搜索框<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>ajax 请求次数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  $ <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span>

<span class="token comment">//没有优化的输入事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#nondebounce'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span>counter<span class="token punctuation">)</span>

<span class="token comment">//优化后的输入事件。键盘输入后停顿 300 毫秒才会执行函数，若 300 毫秒内再次输入，则需要重新等待 300 毫秒。</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#debounce'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span>toolkit<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>counter<span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token operator">++</span>count
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="docs-demo-plugin__display"><div class="docs-demo-plugin__app"></div></div></div></li></ul> <h3 id="throttle"><a href="#throttle" class="header-anchor">#</a> throttle</h3> <ul><li><p><strong>用途</strong>：<br>
函数节流。返回一个函数，该函数被连续调用期间，会按指定的间隔时间执行回调函数。<br>
常用于会被长时间连续多次触发的事件监听函数的性能优化。例如：窗口的 <code>onscroll</code> 滚动事件。在窗口滚动期间，每间隔指定时间执行一次回调函数。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} fn</code> - 要优化的函数。</p></li> <li><p><code>{number} interval</code> - 间隔毫秒数。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{function} throttle_fn</code></p></li> <li><p><strong>示例</strong>：</p> <div data-info="mydemo%20%5Bheight%3D130%5D" data-type="vanilla" class="docs-demo-plugin__wrapper"><div class="docs-demo-plugin__code"><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>连续点击多次按钮，观察计数器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>计数器：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  $ <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousedown'</span><span class="token punctuation">,</span>toolkit<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>counter<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token operator">++</span>count
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="docs-demo-plugin__display"><div class="docs-demo-plugin__app"></div></div></div></li></ul> <h3 id="compare"><a href="#compare" class="header-anchor">#</a> compare</h3> <ul><li><p><strong>用途</strong>：<br>
深度比较引用类型（对象/数组）。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{Object} a</code> - 要比较的对象。</p></li> <li><p><code>{Object} b</code> - 要比较的对象。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{boolean} isSame</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> objectA <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  objectB <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>

objectA <span class="token operator">===</span> objectB  <span class="token comment">// -&gt; false</span>
toolkit<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>objectA<span class="token punctuation">,</span> objectB<span class="token punctuation">)</span>  <span class="token comment">// -&gt; true</span>
</code></pre></div></li></ul> <h3 id="combine"><a href="#combine" class="header-anchor">#</a> combine</h3> <ul><li><p><strong>用途</strong>：<br>
接收多个数组，求组合。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><code>{array} ...items</code> - 两个以上的数组。</li></ul></li> <li><p><strong>返回值</strong>：<code>{array} result</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">combine</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; [['a', '1'], ['a', '2'], ['a', '3'], ['b', '1'], ['b', '2'], ['b', '3']]</span>
<span class="token function">combine</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// -&gt; ['a_1', 'a_2', 'a_3', 'b_1', 'b_2', 'b_3']</span>
</code></pre></div></li></ul> <h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <h3 id="env"><a href="#env" class="header-anchor">#</a> env</h3> <ul><li><p><strong>用途</strong>：<br>
环境变量对象。包含以下属性：</p> <ul><li>dev - 用于区分生产和测试环境的属性。值为 <code>true</code> 时，代表测试环境，为 <code>false</code> 时，代表生产环境。</li></ul></li></ul> <h2 id="polyfill"><a href="#polyfill" class="header-anchor">#</a> polyfill</h2> <p>为旧浏览器提供它没有原生支持的较新的功能。</p> <h3 id="数组新增方法"><a href="#数组新增方法" class="header-anchor">#</a> 数组新增方法</h3> <h4 id="foreach"><a href="#foreach" class="header-anchor">#</a> forEach</h4> <ul><li><p><strong>用途</strong>：遍历数组。对数组中的每个元素执行一次提供的回调函数。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：无</p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 输出 1 0 , 2 1 , 3 2。</span>
</code></pre></div></li></ul> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <ul><li><p><strong>用途</strong>：创建一个新数组，该数组中的每个元素是每次调用提供的回调函数后的返回值。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{array} newArray</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// arr -&gt; [2, 4, 6]</span>
</code></pre></div></li></ul> <h4 id="filter"><a href="#filter" class="header-anchor">#</a> filter</h4> <ul><li><p><strong>用途</strong>：过滤数组元素。对数组中的每个元素执行一次提供的回调函数（过滤器），返回一个新数组，包含过滤器返回为 “真值” 的数组元素。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{array} newArray</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// arr -&gt; [2, 3]</span>
</code></pre></div></li></ul> <h4 id="reduce"><a href="#reduce" class="header-anchor">#</a> reduce</h4> <ul><li><p><strong>用途</strong>：执行累加操作。对数组中的每个元素执行一次提供的回调函数（累加器），将其结果汇总为单个返回值。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收四个参数，分别是：累加值，当前元素，当前索引，源数组。</p></li> <li><p><code>{any} initialValue</code> - 可选，作为第一次调用 callback 函数时的第一个参数的值。 如果没有提供该初始值，则将使用数组中的第一个元素，并跳过该元素。 在没有初始值的空数组上调用 <code>reduce</code> 将报错。</p></li></ul></li> <li><p><strong>返回值</strong>：函数累计处理的结果</p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">/</span> b
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// total -&gt; 0.16666666666666666</span>
</code></pre></div></li></ul> <h4 id="reduceright"><a href="#reduceright" class="header-anchor">#</a> reduceRight</h4> <ul><li><p><strong>用途</strong>：执行累加操作。与 <code>reduce</code> 类似，但累加顺序改为<strong>从右到左</strong>。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收四个参数，分别是：累加值，当前元素，当前索引，源数组。</p></li> <li><p><code>{any} initialValue</code> - 可选，作为第一次调用 callback 函数时的第一个参数的值。 如果没有提供该初始值，则将使用数组中的最后一个元素，并跳过该元素。 在没有初始值的空数组上调用 <code>reduceRight</code> 将报错。</p></li></ul></li> <li><p><strong>返回值</strong>：函数累计处理的结果</p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">/</span> b
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// total -&gt; 1.5</span>
</code></pre></div></li></ul> <h4 id="some"><a href="#some" class="header-anchor">#</a> some</h4> <ul><li><p><strong>用途</strong>：测试数组中是不是<strong>至少有1个元素</strong>满足条件。对数组中的每个元素执行一次提供的回调函数，直到回调函数返回一个 “真值”，<code>some()</code> 将会立即返回 <code>true</code>。否则，<code>some()</code> 返回 <code>false</code>。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{boolean} isTrue</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> hasBiggerThan2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// hasBiggerThan2 -&gt; true</span>
</code></pre></div></li></ul> <h4 id="every"><a href="#every" class="header-anchor">#</a> every</h4> <ul><li><p><strong>用途</strong>：测试数组中是不是<strong>所有</strong>元素满足条件。对数组中的每个元素执行一次提供的回调函数，直到回调函数返回一个 “假值”，<code>every()</code> 将会立即返回 <code>false</code>。否则，<code>every()</code> 返回 <code>true</code>。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{boolean} isTrue</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> isAllBiggerThan2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// isAllBiggerThan2 -&gt; false</span>
</code></pre></div></li></ul> <h4 id="indexof"><a href="#indexof" class="header-anchor">#</a> indexOf</h4> <ul><li><p><strong>用途</strong>：查找给定元素在数组中的第一个索引。如果不存在，则返回 -1。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{any} searchElement</code> - 要查找的元素。</p></li> <li><p><code>{number} fromIndex</code> - 可选，开始查找的位置，默认值为 0。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{number} index</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; 1</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; -1</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; -1</span>
</code></pre></div></li></ul> <h4 id="includes"><a href="#includes" class="header-anchor">#</a> includes</h4> <ul><li><p><strong>用途</strong>：查找给定元素在数组中是否存在。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{any} searchElement</code> - 要查找的元素。</p></li> <li><p><code>{number} fromIndex</code> - 可选，开始查找的位置，默认值为 0。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{boolean} isExists</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; true</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; false</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; true ，与 indexOf 的判定规则不同。</span>
</code></pre></div></li></ul> <h4 id="find"><a href="#find" class="header-anchor">#</a> find</h4> <ul><li><p><strong>用途</strong>：查找在数组中满足条件的第一个元素。否则返回 <code>undefined</code>。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{any} result</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> biggerThan1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// biggerThan1 -&gt; 2</span>
</code></pre></div></li></ul> <h4 id="findindex"><a href="#findindex" class="header-anchor">#</a> findIndex</h4> <ul><li><p><strong>用途</strong>：查找在数组中满足条件的第一个元素的<strong>索引</strong>。否则返回 -1。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><p><code>{function} callback</code> - 回调函数。函数接收三个参数，分别是：当前元素，当前索引，源数组。</p></li> <li><p><code>{any} thisArg</code> - 可选，执行 callback 时使用的 this 值。</p></li></ul></li> <li><p><strong>返回值</strong>：<code>{number} index</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> indexOfBiggerThan1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// indexOfBiggerThan1 -&gt; 1</span>
</code></pre></div></li></ul> <h4 id="flat"><a href="#flat" class="header-anchor">#</a> flat</h4> <ul><li><p><strong>用途</strong>：扁平化数组。按指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。</p></li> <li><p><strong>参数</strong>：</p> <ul><li><code>{number} depth</code> - 可选，指定要提取嵌套数组的结构深度，默认值为 1。</li></ul></li> <li><p><strong>返回值</strong>：<code>{array} newArray</code></p></li> <li><p><strong>示例</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// arr1 -&gt; [1, 2, 3, 4]</span>

<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// arr2 -&gt; [1, 2, 3, 4, [5, 6]]</span>

<span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
arr3<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// arr3 -&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="token comment">//使用 Infinity，可展开任意深度的嵌套数组</span>
<span class="token keyword">var</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
arr4<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>
<span class="token comment">// arr4 -&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.bf9abde5.js" defer></script><script src="/docs/assets/js/2.7081bd21.js" defer></script><script src="/docs/assets/js/11.3ba4e15f.js" defer></script>
  </body>
</html>
